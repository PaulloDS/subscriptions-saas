datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id                 String              @id @default(cuid())
  name               String
  email              String              @unique
  password           String
  createdAt          DateTime            @default(now())
  updatedAt          DateTime            @updatedAt
  subscriptions      Subscription[]
  sharedSubscriptions SharedSubscription[]
}

model Subscription {
  id               String              @id @default(cuid())
  name             String
  description      String?
  price            Float
  billingCycle     String
  category         String
  status           String
  nextBillingDate  DateTime
  createdAt        DateTime            @default(now())
  updatedAt        DateTime            @updatedAt
  userId           String
  user             User                @relation(fields: [userId], references: [id])
  sharedSubscriptions SharedSubscription[]
}

model SharedSubscription {
  id               String       @id @default(cuid())
  subscriptionId   String
  subscription     Subscription @relation(fields: [subscriptionId], references: [id])
  userId           String
  user             User         @relation(fields: [userId], references: [id])
  sharePercentage  Float
  createdAt        DateTime     @default(now())
  updatedAt        DateTime     @updatedAt
}

